PART {
	name = AsteroidDrill
	module = Part
	author = Allis Tauri

	MODEL
	{
		model = Hangar/Parts/Models/AsteroidDrill
	}
	MODEL
	{
		model = Hangar/Parts/Models/AsteroidHatchPort
		position = 0, 3.7164, 0
		scale = 1,1,1
		rotation = 0,0,0
	}

	rescaleFactor = 1.0
	scale = 1.0

	node_stack_top     = 0.0,  3.9329 , 0, 0,  1, 0, 4
	node_stack_bottom  = 0.0, -5.00849, 0, 0,  1, 0, 3
	
	TechRequired = advancedMotors
	category = Utility
	subcategory = 0
	title = Asteroid Mining Factory
	manufacturer = AT Industries
	description = This factory is equipped with a generator, heavy-duty drills, rock transporters and containers to crunch the insides of any asteroid, making storage space for vessels. It can be used only in combination with the Asteroid Hatch, as other attachment methods are too weak for its mass and power.
	
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	entryCost = 689948
	cost = 294174
	mass = 63.433319

	dragModelType = default
	maximum_drag = 0.25
	minimum_drag = 0.25
	angularDrag = 2.5
	crashTolerance = 10
	breakingForce = 800
	breakingTorque = 800
	maxTemp = 900
	fuelCrossFeed = True
	
	CrewCapacity = 0
	
	vesselType = Station

//	MODULE
//	{
//		name = HangarPartResizer
//		specificMass = 22.4471786732, 40.94614, 0.0, 0.04 //weights: [ 0.353870476001, 0.645498940564, 0.0, 0.000630583435277 ]
//		specificCost = 107191.44, 86202.4, 0.0, 780.0 //weights: [ 0.55203852383, 0.443944457194, 0.0, 0.0040170189764 ]
//		sizeOnly = true
//		size = 3
//		minSize = 3
//	}


	MODULE
	{
		name = AsteroidMassConverter
		OutputResource    = Rock
		ConversionRate    = 0.00003 // tons per electric charge
		EnergyConsumption = 50   // electric charge per second
		RateThreshold     = 0.1  // relative rate threshold to automatically switch off
		AnimatorID = DrillAnimator
	}
	
	MODULE
	{
		name = HangarAnimator
		AnimationName = drill-animation
		AnimatorID = DrillAnimator
		EnergyConsumption = 0
		Loop = true
	}

	MODULE
	{
		name = ModuleDockingNode
		referenceAttachNode = top
		nodeType = square4
		nodeTransformName = port-docking-node
		acquireMinRollDot = 0.9
		captureMinRollDot = 0.99999
	}

	
	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		RESOURCE
		{
			name=ElectricCharge
			rate = 0.03
		}
	}

	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		OUTPUT_RESOURCE
		{
		   name = ElectricCharge
		   rate = 30
		}	
	}

	
	RESOURCE
	{
		name = ElectricCharge
		amount = 80000
		maxAmount = 80000
	}
	
	RESOURCE
	{
		name = Rock
		amount = 0
		maxAmount = 5000
	}
}
